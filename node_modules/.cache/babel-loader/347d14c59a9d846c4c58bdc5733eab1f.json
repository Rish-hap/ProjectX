{"ast":null,"code":"import { call, put, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { LOGIN, LOGOUT } from '../Constants';\nimport { login_ret, login_loading, logout_ret } from '../actions/Auth';\nimport api from '../utils/api_routes';\nimport { get_url_params } from \"../utils/common_utilities\";\nimport store from '../store'; // worker Saga: will be fired on USER_FETCH_REQUESTED actions\n\nfunction* logout_saga() {\n  console.log(\"Inside logout_saga\");\n\n  try {\n    const data = yield store.getState().auth_store.logout;\n    const headers = {\n      headers: {\n        Authorization: `bearer ${localStorage.getItem('token')}`\n      }\n    };\n    localStorage.removeItem('token');\n    window.location.reload(); //   const api_data = yield call(api.auth.initiation_payment, data, headers)\n\n    const api_data = {\n      success: true,\n      message: 'Logout Successfull'\n    };\n    console.log(api_data, \"api_data \");\n\n    if (!!api_data) {\n      if (api_data.success) {\n        yield put(logout_ret({\n          success: true,\n          message: api_data.message || \"Amount Successfully deposited\",\n          data: api_data.result\n        }));\n      } else {\n        yield put(logout_ret({\n          success: false,\n          message: api_data.message || 'Something went wrong try again later..',\n          data: []\n        }));\n      }\n    } else {\n      yield put(logout_ret({\n        success: false,\n        message: 'Something went wrong try again later..',\n        data: []\n      }));\n    }\n  } catch (e) {\n    console.log(e.response, \"e in signup_saga\");\n\n    try {\n      yield put(logout_ret({\n        success: false,\n        message: 'Something went wrong try again later..',\n        data: []\n      }));\n    } catch (x) {\n      yield put(logout_ret({\n        success: false,\n        message: 'Something went wrong try again later..',\n        data: []\n      }));\n    }\n  }\n}\n\nfunction* login_saga() {\n  console.log(\"Inside signup_saga\");\n\n  try {\n    const data = yield store.getState().auth_store.login;\n    const headers = {\n      'headers': {\n        'Authorization': localStorage.getItem('token')\n      }\n    }; //   const api_data = yield call(api.auth.login, data, headers)\n\n    const api_data = {\n      success: false,\n      message: \"No api  connected\"\n    };\n    console.log(api_data, \"api_data \");\n\n    if (!!api_data) {\n      if (api_data.success) {\n        yield put(login_ret({\n          success: true,\n          message: api_data.message || \"Login successfull\",\n          data: api_data.result\n        }));\n      } else {\n        yield put(login_ret({\n          success: false,\n          message: api_data.message || 'Something went wrong try again later..',\n          data: []\n        }));\n      }\n    } else {\n      yield put(login_loading({\n        success: false,\n        message: 'Something went wrong try again later..',\n        data: []\n      }));\n    }\n  } catch (e) {\n    console.log(e.response, \"e in signup_saga\");\n\n    try {\n      yield put(login_loading({\n        success: false,\n        message: 'Something went wrong try again later..',\n        data: []\n      }));\n    } catch (x) {\n      yield put(login_loading({\n        success: false,\n        message: 'Something went wrong try again later..',\n        data: []\n      }));\n    }\n  }\n}\n\nexport const auth_saga = [takeLatest(LOGIN, login_saga), takeLatest(LOGOUT, logout_saga)];\nexport default auth_saga;","map":{"version":3,"sources":["/home/ajoncode/Rish-hap/ProjectX/src/Sagas/auth_saga.js"],"names":["call","put","takeEvery","takeLatest","LOGIN","LOGOUT","login_ret","login_loading","logout_ret","api","get_url_params","store","logout_saga","console","log","data","getState","auth_store","logout","headers","Authorization","localStorage","getItem","removeItem","window","location","reload","api_data","success","message","result","e","response","x","login_saga","login","auth_saga"],"mappings":"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","sourcesContent":["import { call, put, takeEvery, takeLatest } from 'redux-saga/effects'\nimport {  LOGIN, LOGOUT } from '../Constants'\nimport { login_ret, login_loading,logout_ret } from '../actions/Auth'\nimport api from '../utils/api_routes'\nimport { get_url_params } from \"../utils/common_utilities\"\nimport store from '../store'\n\n\n// worker Saga: will be fired on USER_FETCH_REQUESTED actions\n\nfunction* logout_saga() {\n    console.log(\"Inside logout_saga\")\n\n   try {\n      const  data = yield store.getState().auth_store.logout\n      const headers = {\n        headers: {\n          Authorization: `bearer ${localStorage.getItem('token')}`,\n        },\n      }\n  localStorage.removeItem('token')\n  window.location.reload()\n    //   const api_data = yield call(api.auth.initiation_payment, data, headers)\n    const api_data = {\n        success:true,\n        message:'Logout Successfull'\n    }\n      console.log(api_data,\"api_data \")\n      if(!!api_data){\n            if(api_data.success){\n                yield put(logout_ret({\n                    success:true,\n                    message:api_data.message || \"Amount Successfully deposited\",\n                    data:api_data.result\n                   }))\n            }else{\n                yield put(logout_ret({\n                    success:false,\n                    message:api_data.message ||'Something went wrong try again later..',\n                    data:[]\n                   }))\n            }\n      }else{\n        yield put(logout_ret({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }\n   } catch (e) {\n    console.log(e.response,\"e in signup_saga\")\n    try{\n        yield put(logout_ret({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }catch(x){\n        yield put(logout_ret({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n        }\n   }\n}\n\n\nfunction* login_saga() {\n    console.log(\"Inside signup_saga\")\n\n   try {\n      const  data = yield store.getState().auth_store.login\n      const headers  = { 'headers': { 'Authorization': localStorage.getItem('token') } }\n\n    //   const api_data = yield call(api.auth.login, data, headers)\n    const api_data = {\n        success:false,\n        message:\"No api  connected\"\n    }\n      console.log(api_data,\"api_data \")\n      if(!!api_data){\n            if(api_data.success){\n                yield put(login_ret({\n                    success:true,\n                    message:api_data.message || \"Login successfull\",\n                    data:api_data.result\n                   }))\n            }else{\n                yield put(login_ret({\n                    success:false,\n                    message:api_data.message ||'Something went wrong try again later..',\n                    data:[]\n                   }))\n            }\n      }else{\n        yield put(login_loading({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }\n   } catch (e) {\n    console.log(e.response,\"e in signup_saga\")\n    try{\n        yield put(login_loading({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }catch(x){\n        yield put(login_loading({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n        }\n   }\n}\n\n\nexport const auth_saga = [\n   takeLatest(LOGIN, login_saga),\n   takeLatest(LOGOUT, logout_saga)\n]\n\nexport default auth_saga"]},"metadata":{},"sourceType":"module"}