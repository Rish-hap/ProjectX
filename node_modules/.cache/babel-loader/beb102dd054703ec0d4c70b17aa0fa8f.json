{"ast":null,"code":"import _regeneratorRuntime from\"/home/ajoncode/crypticocean-projects/fesschain/ProjectX/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(logout_saga),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(login_saga);import{call,put,takeEvery,takeLatest}from'redux-saga/effects';import{LOGIN,LOGOUT}from'../Constants';import{login_ret,login_loading,logout_ret}from'../actions/Auth';import api from'../utils/api_routes';import{get_url_params}from\"../utils/common_utilities\";import store from'../store';// worker Saga: will be fired on USER_FETCH_REQUESTED actions\nfunction logout_saga(){var data,headers,api_data;return _regeneratorRuntime.wrap(function logout_saga$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Inside logout_saga\");_context.prev=1;_context.next=4;return store.getState().auth_store.logout;case 4:data=_context.sent;headers={headers:{Authorization:\"bearer \".concat(localStorage.getItem('token'))}};localStorage.removeItem('token');window.location.reload();//   const api_data = yield call(api.auth.initiation_payment, data, headers)\napi_data={success:true,message:'Logout Successfull'};console.log(api_data,\"api_data \");if(!api_data){_context.next=20;break;}if(!api_data.success){_context.next=16;break;}_context.next=14;return put(logout_ret({success:true,message:api_data.message||\"Amount Successfully deposited\",data:api_data.result}));case 14:_context.next=18;break;case 16:_context.next=18;return put(logout_ret({success:false,message:api_data.message||'Something went wrong try again later..',data:[]}));case 18:_context.next=22;break;case 20:_context.next=22;return put(logout_ret({success:false,message:'Something went wrong try again later..',data:[]}));case 22:_context.next=36;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](1);console.log(_context.t0.response,\"e in signup_saga\");_context.prev=27;_context.next=30;return put(logout_ret({success:false,message:'Something went wrong try again later..',data:[]}));case 30:_context.next=36;break;case 32:_context.prev=32;_context.t1=_context[\"catch\"](27);_context.next=36;return put(logout_ret({success:false,message:'Something went wrong try again later..',data:[]}));case 36:case\"end\":return _context.stop();}}},_marked,null,[[1,24],[27,32]]);}function login_saga(){var data,headers,api_data;return _regeneratorRuntime.wrap(function login_saga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"Inside signup_saga\");_context2.prev=1;_context2.next=4;return store.getState().auth_store.login;case 4:data=_context2.sent;headers={'headers':{'Authorization':localStorage.getItem('token')}};//   const api_data = yield call(api.auth.login, data, headers)\napi_data={success:false,message:\"No api  connected\"};console.log(api_data,\"api_data \");if(!api_data){_context2.next=18;break;}if(!api_data.success){_context2.next=14;break;}_context2.next=12;return put(login_ret({success:true,message:api_data.message||\"Login successfull\",data:api_data.result}));case 12:_context2.next=16;break;case 14:_context2.next=16;return put(login_ret({success:false,message:api_data.message||'Something went wrong try again later..',data:[]}));case 16:_context2.next=20;break;case 18:_context2.next=20;return put(login_loading({success:false,message:'Something went wrong try again later..',data:[]}));case 20:_context2.next=34;break;case 22:_context2.prev=22;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.response,\"e in signup_saga\");_context2.prev=25;_context2.next=28;return put(login_loading({success:false,message:'Something went wrong try again later..',data:[]}));case 28:_context2.next=34;break;case 30:_context2.prev=30;_context2.t1=_context2[\"catch\"](25);_context2.next=34;return put(login_loading({success:false,message:'Something went wrong try again later..',data:[]}));case 34:case\"end\":return _context2.stop();}}},_marked2,null,[[1,22],[25,30]]);}export var auth_saga=[takeLatest(LOGIN,login_saga),takeLatest(LOGOUT,logout_saga)];export default auth_saga;","map":{"version":3,"sources":["/home/ajoncode/crypticocean-projects/fesschain/ProjectX/src/Sagas/auth_saga.js"],"names":["logout_saga","login_saga","call","put","takeEvery","takeLatest","LOGIN","LOGOUT","login_ret","login_loading","logout_ret","api","get_url_params","store","console","log","getState","auth_store","logout","data","headers","Authorization","localStorage","getItem","removeItem","window","location","reload","api_data","success","message","result","response","login","auth_saga"],"mappings":"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","sourcesContent":["import { call, put, takeEvery, takeLatest } from 'redux-saga/effects'\nimport {  LOGIN, LOGOUT } from '../Constants'\nimport { login_ret, login_loading,logout_ret } from '../actions/Auth'\nimport api from '../utils/api_routes'\nimport { get_url_params } from \"../utils/common_utilities\"\nimport store from '../store'\n\n\n// worker Saga: will be fired on USER_FETCH_REQUESTED actions\n\nfunction* logout_saga() {\n    console.log(\"Inside logout_saga\")\n\n   try {\n      const  data = yield store.getState().auth_store.logout\n      const headers = {\n        headers: {\n          Authorization: `bearer ${localStorage.getItem('token')}`,\n        },\n      }\n  localStorage.removeItem('token')\n  window.location.reload()\n    //   const api_data = yield call(api.auth.initiation_payment, data, headers)\n    const api_data = {\n        success:true,\n        message:'Logout Successfull'\n    }\n      console.log(api_data,\"api_data \")\n      if(!!api_data){\n            if(api_data.success){\n                yield put(logout_ret({\n                    success:true,\n                    message:api_data.message || \"Amount Successfully deposited\",\n                    data:api_data.result\n                   }))\n            }else{\n                yield put(logout_ret({\n                    success:false,\n                    message:api_data.message ||'Something went wrong try again later..',\n                    data:[]\n                   }))\n            }\n      }else{\n        yield put(logout_ret({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }\n   } catch (e) {\n    console.log(e.response,\"e in signup_saga\")\n    try{\n        yield put(logout_ret({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }catch(x){\n        yield put(logout_ret({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n        }\n   }\n}\n\n\nfunction* login_saga() {\n    console.log(\"Inside signup_saga\")\n\n   try {\n      const  data = yield store.getState().auth_store.login\n      const headers  = { 'headers': { 'Authorization': localStorage.getItem('token') } }\n\n    //   const api_data = yield call(api.auth.login, data, headers)\n    const api_data = {\n        success:false,\n        message:\"No api  connected\"\n    }\n      console.log(api_data,\"api_data \")\n      if(!!api_data){\n            if(api_data.success){\n                yield put(login_ret({\n                    success:true,\n                    message:api_data.message || \"Login successfull\",\n                    data:api_data.result\n                   }))\n            }else{\n                yield put(login_ret({\n                    success:false,\n                    message:api_data.message ||'Something went wrong try again later..',\n                    data:[]\n                   }))\n            }\n      }else{\n        yield put(login_loading({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }\n   } catch (e) {\n    console.log(e.response,\"e in signup_saga\")\n    try{\n        yield put(login_loading({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n      }catch(x){\n        yield put(login_loading({\n            success:false,\n            message:'Something went wrong try again later..',\n            data:[]\n           }))\n        }\n   }\n}\n\n\nexport const auth_saga = [\n   takeLatest(LOGIN, login_saga),\n   takeLatest(LOGOUT, logout_saga)\n]\n\nexport default auth_saga"]},"metadata":{},"sourceType":"module"}